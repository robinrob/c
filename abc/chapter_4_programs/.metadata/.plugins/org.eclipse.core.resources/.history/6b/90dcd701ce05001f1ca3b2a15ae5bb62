/* Rewriting some 'spaghetti code' to eliminate goto statements
 * betterCode2.c
 *
 *  Created on: Jan 20, 2010
 *      Author: user
 */

#include <stdio.h>
#include "/home/user/c/sqrt2.c"

int main(void)
{
	double a, b, c, d, r1, r2;

	printf("Enter three doubles (a b c): ");
	scanf("%lf%lf%lf", &a, &b, &c);

	d = b * b - 4.0 * a * c;
	if (d == 0.0)
		goto L1;
	else if (d > 0.0) {
		if (a != 0.0) {
			r1 = (- b + sqrt2(d)) / (2.0 * a);
			r2 = (- b - sqrt2(d)) / (2.0 * a);
			printf("root1: %lf, root2: %lf\n", r1, r2);
			goto L4;
		}
		else
			goto L3;
	}
	else
		goto L2;

	L1:
	if (a != 0.0)
		r1 = r2 = -b / (2.0 * a);
	else
		goto L3;
	goto L4;
	L2:
	if (a != 0.0) {
		printf("imaginary roots\n");
		goto L4;
	}
	L3: printf("degenerate case\n");
	L4: printf("Da daa!\n");



	return 0;
}
