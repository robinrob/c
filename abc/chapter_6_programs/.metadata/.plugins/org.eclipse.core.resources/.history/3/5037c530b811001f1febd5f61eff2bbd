/* Sorts an array by using pointer operations
 * bubbleSort.c
 *
 *  Created on: Feb 4, 2010
 *      Author: user
 */

#include <stdio.h>
#include <time.h>

#define N 5

void bubbleSort(int *, int);
void swap(int *, int *);

int main(void)
{
	int a[N];
	register int i;

	srand(time(NULL));
	printf("Array:\n");
	for (i = 0; i < N; ++i) {
		*(a + i) = rand() % 10;
		printf("a[%d]: %d\n", i, *(a + i));
	}

	bubbleSort(a, N);

	printf("Sorted array:\n");
	printArray(a);

	return 0;
}

void bubbleSort(int *a, int n)
{
	register int i, j;

	for (i = 0; i < n - 1; ++i)
		for (j = n - 1; j > i; --j) {
			if (*(a + j) > *(a + j - 1))
				swap(&(*(a + j - 1)), &(*(a + j)));
			printArray();
		}
}

void swap(int *a, int *b)
{
	int temp;
	temp = *a;
	*a = *b;
	*b = temp;
}

void printArray(int *a, int n)
{
	register int i;

	for (i = 0; i < n; ++i)
		printf("a[%d]: %d\n", i, *(a + i));
}
