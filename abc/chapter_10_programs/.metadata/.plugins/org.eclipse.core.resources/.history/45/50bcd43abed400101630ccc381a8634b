/* Creating a linked list from an array. */

#include "sllist.h"

#define N 5

int main(void)
{
	DATA *d = calloc(N, sizeof(DATA));
	NODE *list;

	d[0].name = "Robin",		d[0].age = 23, d[0].weight = 63;
	d[1].name = "Bob Brown",	d[1].age = 36, d[1].weight = 83;
	d[2].name = "Snake Doc",	d[2].age = 39, d[2].weight = 10000;
	d[3].name = "Betty Blue",	d[3].age = 36, d[3].weight = 75;
	d[4].name = "Mac",			d[4].age = 37, d[4].weight = 87;

	printf("The list:\n");
	list = create_l(d, N);
	print_list(list);

	d[0].name = "Spiderman",	d[0].age = 99, d[0].weight = 0;

	/* Sort DATA list by age & print it */
	printf("Sorted by age:\n");
	bubb_sort_list(list, age, compare);
	print_list(list);

	/* Sort DATA list by name & print it */
	printf("Sorted by name:\n");
	bubb_sort_list(list, name, compare);
	print_list(list);

	/* Sort DATA list by weight & print it */
	printf("Sorted by weight:\n");
	bubb_sort_list(list, weight, compare);
	print_list(list);

	/* Check list is a cycle */
	printf("Is list a cycle? %s\n", check_cycle(list) ? "NO" : "YES");

	/* Turn list into a cycle using concat()
	 * & check if it's a cycle. */
	concat(list, list);
	printf("Is list a cycle? %s\n", check_cycle(list) ? "NO" : "YES");

	/* De-cycle the list & check if it's a cycle. */
	decycle(list);
	printf("Is list a cycle? %s\n", check_cycle(list) ? "NO" : "YES");

	/* Use concatenate() to try to turn list into
	 * a cycle. */
	list = concatenate(list, list);

	/* Use concatenate_it() to concatenate list
	 * with a new list with one element, & print
	 * the new list.
	 */
	NODE *el = malloc(sizeof(NODE));
	el -> data = d[0];
	el -> next = NULL;
	list = concatenate_it(list, el);
	printf("\nList concatenated with single element:\n");
	print_list(list);

	/* Use copy_cat to create a copy of list
	 * concatenated with itself, & print it.
	 */
	NODE *list2 = create_l(d);
	NODE *copy = copy_cat(list, list2);
	printf("\nConcatenated copy of list with list:\n");
	print_list(copy);

	/* Print list using iterative version */
	printf("\nThe list printed iteratively:\n");
	print_list_it(list);

	/* Insert an item into the list & print it. */
	insert(d[2], &list, 8);
	printf("With new insertion:\n");
	print_list(list);

	/* Delete an item from the list & print it. */
	delete(&list, 6);
	printf("With a deletion:\n");
	print_list(list);

	free(d);
	free(list);

	return 0;
}
