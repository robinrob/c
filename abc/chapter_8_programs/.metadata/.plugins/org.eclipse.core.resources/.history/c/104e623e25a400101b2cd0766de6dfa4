/* Quicksort! Pointer version with macros. */

#include "sort.h"

#define swap(x, y)		{ int t; t = x; x = y; y = t; }
#define order(x, y)		if (x > y) swap(x, y)
#define o2(x, y)		order(x, y)
#define o3(x, y, z)		o2(x, y); o2(x, z); o2(y, z)

typedef enum {yes, no} yes_no;

static char **find_pivot(char **left, char **right);
static char **partition(char **left, char **right, char **pivot);

void quicksort(char **left, char **right)
{
  char **pivot, **p;

  printf("quicksort: *left: %s, *right: %s\n", *left, *right);
  printf("quicksort: sublist: \n");
  print_list(left, right);
  if (!(getchar() == '\n')) {
    exit(1);
  }

    pivot = find_pivot(left, right);
    quicksort(left, pivot - 1);
    quicksort(pivot, right);
}

static char **find_pivot(char **left, char **right)
{
  return left + (right - left) / 2;
}

